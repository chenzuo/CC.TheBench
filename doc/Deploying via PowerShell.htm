<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0098)http://mooneyblog.mmdbsolutions.com/index.php/2013/01/23/windows-azure-4-deploying-via-powershell/ -->
<html xmlns="http://www.w3.org/1999/xhtml"><head profile="http://gmpg.org/xfn/11"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>The Mooney Project  » Windows Azure 4: Deploying via PowerShell</title>
<meta name="generator" content="WordPress 3.7.1"> <!-- leave this for stats -->
<link rel="stylesheet" href="./Deploying via PowerShell_files/style.css" type="text/css" media="screen">
<link rel="alternate" type="application/rss+xml" title="The Mooney Project RSS Feed" href="http://mooneyblog.mmdbsolutions.com/index.php/feed/">
<link rel="pingback" href="http://mooneyblog.mmdbsolutions.com/xmlrpc.php">



            <script type="text/javascript" async="" src="./Deploying via PowerShell_files/ga.js"></script><script type="text/javascript">//<![CDATA[
            // Google Analytics for WordPress by Yoast v4.3.3 | http://yoast.com/wordpress/google-analytics/
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-12826968-2']);
				            _gaq.push(['_trackPageview']);
            (function () {
                var ga = document.createElement('script');
                ga.type = 'text/javascript';
                ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

                var s = document.getElementsByTagName('script')[0];
                s.parentNode.insertBefore(ga, s);
            })();
            //]]></script>
			<link rel="alternate" type="application/rss+xml" title="The Mooney Project » Windows Azure 4: Deploying via PowerShell Comments Feed" href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/23/windows-azure-4-deploying-via-powershell/feed/">
<link rel="stylesheet" id="digg-digg-css" href="./Deploying via PowerShell_files/diggdigg-style.css" type="text/css" media="screen">
<link rel="stylesheet" id="core3.0-css" href="./Deploying via PowerShell_files/shCore.css" type="text/css" media="all">
<link rel="stylesheet" id="core-Default3.0-css" href="./Deploying via PowerShell_files/shCoreDefault.css" type="text/css" media="all">
<link rel="stylesheet" id="theme-Default3.0-css" href="./Deploying via PowerShell_files/shThemeDefault.css" type="text/css" media="all">
<script type="text/javascript" src="./Deploying via PowerShell_files/jquery.js"></script>
<script type="text/javascript" src="./Deploying via PowerShell_files/jquery-migrate.min.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://mooneyblog.mmdbsolutions.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://mooneyblog.mmdbsolutions.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Windows Azure 3: Deploying a simple app" href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/21/windows-azure-3-deploying-a-simple-app/">
<link rel="next" title="Angular JS: Navigator Pattern" href="http://mooneyblog.mmdbsolutions.com/index.php/2013/08/14/angular-js-navigator-pattern/">
<meta name="generator" content="WordPress 3.7.1, fitted with the WordPress Mobile Pack 1.2.5">
<link rel="canonical" href="./Deploying via PowerShell_files/Deploying via PowerShell.htm">
<link rel="shortlink" href="http://mooneyblog.mmdbsolutions.com/?p=308">
<script src="./Deploying via PowerShell_files/nonSecureAnonymousFramework"></script></head>
<body data-twttr-rendered="true" style="">

<div id="wrapper">
<div id="navigation">
<div class="inner">
        <ul id="menu">
        <li class="home"><a href="http://mooneyblog.mmdbsolutions.com/">Home</a></li>
                <li class="page_item page-item-2"><a href="http://mooneyblog.mmdbsolutions.com/index.php/about/">About</a></li>
       	</ul>
        <div id="topbarsearch"><div id="topsearch">
<form action="http://mooneyblog.mmdbsolutions.com/" method="post">
<input type="text" name="s" id="ls" value="Search..." onblur="setTimeout(&#39;closeResults()&#39;,2000); if (this.value == &#39;&#39;) {this.value = &#39;&#39;;}" onfocus="if (this.value == &#39;Search...&#39;) {this.value = &#39;&#39;;}">
<input type="image" src="./Deploying via PowerShell_files/search_button.gif" id="searchsubmit" value="Search">
</form>
</div>

</div>
        </div>
    </div>
    <div id="adstop">
    
 <div id="topads15"><!--  Do not remove this-->

<!--Paste ad code 728x15 below replacing the existing one-->










</div><!--  Do not remove this-->    
    </div>
<div id="header"><div id="hleft"><div id="hright">
<div id="blogdes"><h1><a href="http://mooneyblog.mmdbsolutions.com/">The Mooney Project</a></h1>
<h2>A self-indulgent series of rants on software development</h2></div>

<div id="slider">
  <a href="http://mooneyblog.mmdbsolutions.com/index.php/feed/"><img src="./Deploying via PowerShell_files/rss.gif" alt="RSS feeds"></a></div>

</div></div></div>

    <div id="maincontainer">
<div id="maincontainer2"><div id="maincontainer3">



<div class="entry">

    
	
		
			<div class="post" id="post-308">
				<h2><a href="./Deploying via PowerShell_files/Deploying via PowerShell.htm" rel="bookmark" title="Permanent Link to Windows Azure 4: Deploying via PowerShell">Windows Azure 4: Deploying via PowerShell</a></h2>
				<small>Written by Mike Mooney on January 23, 2013   </small><br>


					<div class="postbg"><p style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(51,51,51); padding-bottom: 10px; text-align: justify; padding-top: 0px; font: 13px &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, tahoma, verdana, sans-serif; padding-left: 0px; margin: 0px; orphans: 2; widows: 2; letter-spacing: normal; padding-right: 0px; background-color: rgb(255,255,255); text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px"><em style="padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; padding-right: 0px">This is an ongoing series on Window’s Azure.&nbsp; The series starts<span class="Apple-converted-space">&nbsp;</span></em><a style="color: rgb(38,85,182); padding-bottom: 0px; padding-top: 0px; padding-left: 0px; text-decoration: ; margin: 0px; padding-right: 0px" href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/17/windows-azure-an-introduction/" target="_blank"><u style="padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; padding-right: 0px"><font style="padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; padding-right: 0px" color="#0066cc"><em style="padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; padding-right: 0px">here</em></font></u></a><em style="padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; padding-right: 0px">, and all code is located on GitHub:<span class="Apple-converted-space">&nbsp;</span></em><a onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;http://github.com&#39;]);" style="color: rgb(38,85,182); padding-bottom: 0px; padding-top: 0px; padding-left: 0px; text-decoration: ; margin: 0px; padding-right: 0px" href="https://github.com/mmooney/MMDB.AzureSample"><u style="padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; padding-right: 0px"><font style="padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; padding-right: 0px" color="#0066cc"><em style="padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; padding-right: 0px">https://github.com/mmooney/MMDB.AzureSample</em></font></u></a><em style="padding-bottom: 0px; padding-top: 0px; padding-left: 0px; margin: 0px; padding-right: 0px">.&nbsp; GitHub commit checkpoints are referenced throughout the posts.</em></p>
<p style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(51,51,51); padding-bottom: 10px; text-align: justify; padding-top: 0px; font: 13px &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, tahoma, verdana, sans-serif; padding-left: 0px; margin: 0px; orphans: 2; widows: 2; letter-spacing: normal; padding-right: 0px; background-color: rgb(255,255,255); text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">In the <a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/21/windows-azure-3-deploying-a-simple-app/" target="_blank">previous post</a> we covered<span class="Apple-converted-space"> deploying an app to Azure through the Azure web portal and from Visual Studio</span>.&nbsp; In this post, we’ll show you how to deploy to Azure from PowerShell.&nbsp; This comes in really handy if you want to be able to deploy to right from your build server, and who doesn’t want to do that?</p>
<h4>Why now?</h4>
<p style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(51,51,51); padding-bottom: 10px; text-align: justify; padding-top: 0px; font: 13px &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, tahoma, verdana, sans-serif; padding-left: 0px; margin: 0px; orphans: 2; widows: 2; letter-spacing: normal; padding-right: 0px; background-color: rgb(255,255,255); text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">So we have not really gotten into much detail about Azure, and our app is stupidly simple, why are we getting into mundane operational gold-plating like automating deployments from a build server?</p>
<p style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(51,51,51); padding-bottom: 10px; text-align: justify; padding-top: 0px; font: 13px &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, tahoma, verdana, sans-serif; padding-left: 0px; margin: 0px; orphans: 2; widows: 2; letter-spacing: normal; padding-right: 0px; background-color: rgb(255,255,255); text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">Because it’s really important to automate your whole build/deploy pipeline as soon as possible.&nbsp; The later you automated it, the more time you are flushing down the toilet.&nbsp; Even if you don’t want to deploy automatically from your build server, if you don’t at least boil your whole deployment down to single one-click script file, you’re stealing from yourself.</p>
<p style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(51,51,51); padding-bottom: 10px; text-align: justify; padding-top: 0px; font: 13px &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, tahoma, verdana, sans-serif; padding-left: 0px; margin: 0px; orphans: 2; widows: 2; letter-spacing: normal; padding-right: 0px; background-color: rgb(255,255,255); text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">When I started out with <a href="http://www.sportscommander.com/" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;http://www.sportscommander.com&#39;]);" target="_blank">SportsCommander</a>, I was building all the code locally in Visual Studio and then deploying through the Azure web portal (I know, caveman stuff right?).&nbsp; Anyhow, pretty soon I got everything built and versioned through a <a href="http://www.jetbrains.com/teamcity/" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;http://www.jetbrains.com&#39;]);" target="_blank">TeamCity</a> build server, and even had the site being FTPed to our shared hosting test server (hello, <a href="http://lfchosting.com/" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;http://lfchosting.com&#39;]);" target="_blank">LFC Hosting</a>), but for production deployments to Azure I would still remote into the build server and upload the latest package from the hard drive to the Azure website.&nbsp; Part of this was that I wanted to be able to test everything in the test server before deploying to production, and part of this was that I wanted to make sure it didn’t get screwed up, but part of it was also the logical fallacy that I didn’t have time to sit down and spend the time to figure out how to get the Azure deployment working.</p>
<p style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(51,51,51); padding-bottom: 10px; text-align: justify; padding-top: 0px; font: 13px &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, tahoma, verdana, sans-serif; padding-left: 0px; margin: 0px; orphans: 2; widows: 2; letter-spacing: normal; padding-right: 0px; background-color: rgb(255,255,255); text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">And I was wrong.&nbsp; Way wrong.&nbsp; Deploying to Azure manually doesn’t take too long, but it adds up.&nbsp; If it took me 15 minutes to remote into the server, browse to the Azure site, select the package, select the config, and yadda yadda yadda, it only takes a handful of times before you are bleeding whole hours.&nbsp; If you are deploying several times per week, this can get really expensive.&nbsp; Not only are you getting fewer fixes and features done, you aren’t even deploying the ones that you do have done, because you don’t have time to deploy and it’s a pain anyway.&nbsp; Plus, really the only reason we wanted to deploy to the test server first was to smoke test, because deploying again was such a pain that I didn’t want to have to do a whole second deployment to fix a line of code; but if I could fix that line of code and redeploy with one click, I don’t even need to waste time with the test server.</p>
<p style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(51,51,51); padding-bottom: 10px; text-align: justify; padding-top: 0px; font: 13px &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, tahoma, verdana, sans-serif; padding-left: 0px; margin: 0px; orphans: 2; widows: 2; letter-spacing: normal; padding-right: 0px; background-color: rgb(255,255,255); text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">So I didn’t want to spend the time figuring out who to deploy to Azure automatically.&nbsp; Well I did, but it took me more than 5 minutes to Google it, find the right answer among the plethora of other answers, so it took a while to get done.</p>
<p style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(51,51,51); padding-bottom: 10px; text-align: justify; padding-top: 0px; font: 13px &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, tahoma, verdana, sans-serif; padding-left: 0px; margin: 0px; orphans: 2; widows: 2; letter-spacing: normal; padding-right: 0px; background-color: rgb(255,255,255); text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">Hopefully you found this post in under 5 minutes of Googling so you don’t have any excuses.</p>
<h4>Prerequisites</h4>
<p>If you’ve been Googling around, you may have seen some posts about installing certificates.&nbsp; Don’t bother.&nbsp; This approach doesn’t require it, which is good, because that’s no fun.</p>
<p>First, go install the Windows Azure Cmdlets (<a title="http://www.windowsazure.com/en-us/manage/downloads/" href="http://www.windowsazure.com/en-us/manage/downloads/" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;http://www.windowsazure.com&#39;]);">http://www.windowsazure.com/en-us/manage/downloads/</a>).&nbsp; Go go go.</p>
<p>Second, make sure you can run remote signed scripts in PowerShell.&nbsp; You only need to do this once, and if you have played around with PowerShell you’ve probably already done this.&nbsp; Open up PowerShell in Administator mode (Start Button-&gt;type powershell-&gt;CTRL+Shift+Enter).&nbsp; Then type:</p>
<div><div id="highlighter_984718" class="syntaxhighlighter notranslate ps"><div class="toolbar"><span><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/23/windows-azure-4-deploying-via-powershell/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ps keyword">Set-ExecutionPolicy</code> <code class="ps plain">RemoteSigned</code></div></div></td></tr></tbody></table></div></div>
<p style="white-space: normal; text-transform: none; word-spacing: 0px; color: rgb(51,51,51); padding-bottom: 10px; text-align: justify; padding-top: 0px; font: 13px &#39;Lucida Grande&#39;, &#39;Lucida Sans Unicode&#39;, tahoma, verdana, sans-serif; padding-left: 0px; margin: 0px; orphans: 2; widows: 2; letter-spacing: normal; padding-right: 0px; background-color: rgb(255,255,255); text-indent: 0px; -webkit-text-size-adjust: auto; -webkit-text-stroke-width: 0px">and hit Enter.&nbsp; You will get a message along the lines of “OMG Scary Scary Bad Bad Are you Sure!?!?! This is Scary!”.&nbsp; Hit “Y” to continue.</p>
<p>Now comes the tricky part.&nbsp; There is a whole bunch of PowerShell commands and certificate stuff that can get confusing.&nbsp; Thankfully Scott Kirkland wrote a great <a href="http://weblogs.asp.net/srkirkland/archive/2012/09/11/ci-deployment-of-azure-web-roles-using-teamcity.aspx" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;http://weblogs.asp.net&#39;]);" target="_blank">blog post</a> and even put a <a href="https://gist.github.com/3694398" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;http://gist.github.com&#39;]);" target="_blank">sample script</a> up on GitHub.&nbsp; I had to make a few tweaks to it to get it working for me, so here goes.</p>
<p>Fire up PowerShell again (doesn’t need to be Administrator mode any more), browse to your solution directory, and run:</p>
<div><div id="highlighter_904894" class="syntaxhighlighter notranslate ps"><div class="toolbar"><span><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/23/windows-azure-4-deploying-via-powershell/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ps plain">Get</code><code class="ps keyword">-AzurePublishSettingsFile</code></div></div></td></tr></tbody></table></div></div>
<p>This will launch a browser window, prompt you to log into your Azure account, and then prompt you to download a file named something fun like “3-Month Free Trial-1-23-2013-credentials.publishsettings”.&nbsp; Take that file, move it to your solution directory, and name it something less fun like “Azure.publishsettings”.&nbsp; If you open that fella up, you’ll see something like:</p>
<div><div id="highlighter_779023" class="syntaxhighlighter notranslate xml"><div class="toolbar"><span><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/23/windows-azure-4-deploying-via-powershell/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="xml plain">&lt;?</code><code class="xml keyword">xml</code> <code class="xml color1">version</code><code class="xml plain">=</code><code class="xml string">"1.0"</code> <code class="xml color1">encoding</code><code class="xml plain">=</code><code class="xml string">"utf-8"</code><code class="xml plain">?&gt;</code></div><div class="line number2 index1 alt1"><code class="xml plain">&lt;</code><code class="xml keyword">PublishData</code><code class="xml plain">&gt;</code></div><div class="line number3 index2 alt2"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">PublishProfile</code></div><div class="line number4 index3 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">PublishMethod</code><code class="xml plain">=</code><code class="xml string">"AzureServiceManagementAPI"</code></div><div class="line number5 index4 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">Url</code><code class="xml plain">=</code><code class="xml string">"<a href="https://management.core.windows.net/">https://management.core.windows.net/</a>"</code></div><div class="line number6 index5 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">ManagementCertificate</code><code class="xml plain">=</code><code class="xml string">"[Redacted]"</code><code class="xml plain">&gt;</code></div><div class="line number7 index6 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml plain">&lt;</code><code class="xml keyword">Subscription</code></div><div class="line number8 index7 alt1"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">Id</code><code class="xml plain">=</code><code class="xml string">"[Redacted]"</code></div><div class="line number9 index8 alt2"><code class="xml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="xml color1">Name</code><code class="xml plain">=</code><code class="xml string">"3-Month Free Trial"</code> <code class="xml plain">/&gt;</code></div><div class="line number10 index9 alt1"><code class="xml spaces">&nbsp;&nbsp;</code><code class="xml plain">&lt;/</code><code class="xml keyword">PublishProfile</code><code class="xml plain">&gt;</code></div><div class="line number11 index10 alt2"><code class="xml plain">&lt;/</code><code class="xml keyword">PublishData</code><code class="xml plain">&gt;</code></div></div></td></tr></tbody></table></div></div>
<p>So on to the script.&nbsp; In the root of your project, create a PowerShell script (just a text file named something like DeployAzure.ps1):</p>
<div><div id="highlighter_226775" class="syntaxhighlighter notranslate ps"><div class="toolbar"><span><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/23/windows-azure-4-deploying-via-powershell/#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="ps comments">#Modified and simplified version of <a href="https://www.windowsazure.com/en-us/develop/net/common-tasks/continuous-delivery/">https://www.windowsazure.com/en-us/develop/net/common-tasks/continuous-delivery/</a></code></div><div class="line number2 index1 alt1"><code class="ps comments">#From: #<a href="https://gist.github.com/3694398">https://gist.github.com/3694398</a></code></div><div class="line number3 index2 alt2"><code class="ps value">$subscription</code> <code class="ps plain">= </code><code class="ps string">"3-Month Free Trial"</code> <code class="ps comments">#this the name from your .publishsettings file</code></div><div class="line number4 index3 alt1"><code class="ps value">$service</code> <code class="ps plain">= </code><code class="ps string">"mmdbazuresample"</code> <code class="ps comments">#this is the name of the cloud service you created</code></div><div class="line number5 index4 alt2"><code class="ps value">$storageAccount</code> <code class="ps plain">= </code><code class="ps string">"mmdbazuresamplestorage"</code> <code class="ps comments">#this is the name of the storage service you created</code></div><div class="line number6 index5 alt1"><code class="ps value">$slot</code> <code class="ps plain">= </code><code class="ps string">"production"</code> <code class="ps comments">#staging or production</code></div><div class="line number7 index6 alt2"><code class="ps value">$package</code> <code class="ps plain">= "C:\Projects\MMDB.AzureSample\MMDB.AzureSample.Web.Azure\bin\Release\app.publish</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="ps plain">\MMDB.AzureSample.Web.Azure.cspkg"</code></div><div class="line number10 index9 alt1"><code class="ps value">$configuration</code> <code class="ps plain">= "C:\Projects\MMDB.AzureSample\MMDB.AzureSample.Web.Azure\bin\Release\app.publish</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="ps plain">\ServiceConfiguration.Cloud.cscfg"</code></div><div class="line number13 index12 alt2"><code class="ps value">$publishSettingsFile</code> <code class="ps plain">= </code><code class="ps string">"Azure.publishsettings"</code></div><div class="line number14 index13 alt1"><code class="ps value">$timeStampFormat</code> <code class="ps plain">= </code><code class="ps string">"g"</code></div><div class="line number15 index14 alt2"><code class="ps value">$deploymentLabel</code> <code class="ps plain">= </code><code class="ps string">"PowerShell Deploy to $service"</code></div><div class="line number16 index15 alt1"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"Slot: $slot"</code></div><div class="line number18 index17 alt1"><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"Subscription: $subscription"</code></div><div class="line number19 index18 alt2"><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"Service: $service"</code></div><div class="line number20 index19 alt1"><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"Storage Account: $storageAccount"</code></div><div class="line number21 index20 alt2"><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"Slot: $slot"</code></div><div class="line number22 index21 alt1"><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"Package: $package"</code></div><div class="line number23 index22 alt2"><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"Configuration: $configuration"</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"Running Azure Imports"</code></div><div class="line number26 index25 alt1"><code class="ps plain">Import</code><code class="ps keyword">-Module</code> <code class="ps string">"C:\Program Files (x86)\Microsoft SDKs\Windows Azure\PowerShell\Azure\*.psd1"</code></div><div class="line number27 index26 alt2"><code class="ps plain">Import</code><code class="ps keyword">-AzurePublishSettingsFile</code> <code class="ps value">$publishSettingsFile</code></div><div class="line number28 index27 alt1"><code class="ps keyword">Set</code><code class="ps keyword">-AzureSubscription</code> <code class="ps keyword">-CurrentStorageAccount</code> <code class="ps value">$storageAccount</code> <code class="ps keyword">-SubscriptionName</code> <code class="ps value">$subscription</code></div><div class="line number29 index28 alt2"><code class="ps keyword">Set</code><code class="ps keyword">-AzureService</code> <code class="ps keyword">-ServiceName</code> <code class="ps value">$service</code> <code class="ps keyword">-Label</code> <code class="ps value">$deploymentLabel</code></div><div class="line number30 index29 alt1"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number31 index30 alt2"><code class="ps plain">function Publish(){</code></div><div class="line number32 index31 alt1"><code class="ps spaces">&nbsp;</code><code class="ps value">$deployment</code> <code class="ps plain">= Get</code><code class="ps keyword">-AzureDeployment</code> <code class="ps keyword">-ServiceName</code> <code class="ps value">$service</code> <code class="ps keyword">-Slot</code> <code class="ps value">$slot</code> <code class="ps keyword">-ErrorVariable</code> <code class="ps plain">a </code><code class="ps keyword">-ErrorAction</code> <code class="ps plain">silentlycontinue </code></div><div class="line number33 index32 alt2"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number34 index33 alt1"><code class="ps spaces">&nbsp;</code><code class="ps plain">if (</code><code class="ps value">$a</code><code class="ps plain">[0] </code><code class="ps keyword">-ne</code> <code class="ps value">$null</code><code class="ps plain">) {</code></div><div class="line number35 index34 alt2"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"$(Get-Date -f $timeStampFormat) - No deployment is detected. Creating a new deployment. "</code></div><div class="line number36 index35 alt1"><code class="ps spaces">&nbsp;</code><code class="ps plain">}</code></div><div class="line number37 index36 alt2"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number38 index37 alt1"><code class="ps spaces">&nbsp;</code><code class="ps plain">if (</code><code class="ps value">$deployment</code><code class="ps plain">.Name </code><code class="ps keyword">-ne</code> <code class="ps value">$null</code><code class="ps plain">) {</code></div><div class="line number39 index38 alt2"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps comments">#Update deployment inplace (usually faster, cheaper, won't destroy VIP)</code></div><div class="line number40 index39 alt1"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"$(Get-Date -f $timeStampFormat) - Deployment exists in $servicename.&nbsp; Upgrading deployment."</code></div><div class="line number41 index40 alt2"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps plain">UpgradeDeployment</code></div><div class="line number42 index41 alt1"><code class="ps spaces">&nbsp;</code><code class="ps plain">} else {</code></div><div class="line number43 index42 alt2"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps plain">CreateNewDeployment</code></div><div class="line number44 index43 alt1"><code class="ps spaces">&nbsp;</code><code class="ps plain">}</code></div><div class="line number45 index44 alt2"><code class="ps plain">}</code></div><div class="line number46 index45 alt1"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number47 index46 alt2"><code class="ps plain">function CreateNewDeployment()</code></div><div class="line number48 index47 alt1"><code class="ps plain">{</code></div><div class="line number49 index48 alt2"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps keyword">write</code><code class="ps keyword">-progress</code> <code class="ps keyword">-id</code> <code class="ps plain">3 </code><code class="ps keyword">-activity</code> <code class="ps string">"Creating New Deployment"</code> <code class="ps keyword">-Status</code> <code class="ps string">"In progress"</code></div><div class="line number50 index49 alt1"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"$(Get-Date -f $timeStampFormat) - Creating New Deployment: In progress"</code></div><div class="line number51 index50 alt2"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number52 index51 alt1"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps value">$opstat</code> <code class="ps plain">= New</code><code class="ps keyword">-AzureDeployment</code> <code class="ps keyword">-Slot</code> <code class="ps value">$slot</code> <code class="ps keyword">-Package</code> <code class="ps value">$package</code> <code class="ps keyword">-Configuration</code> <code class="ps value">$configuration</code> <code class="ps keyword">-label</code> <code class="ps value">$deploymentLabel</code> <code class="ps plain">-</code></div><div class="line number53 index52 alt2">&nbsp;</div><div class="line number54 index53 alt1"><code class="ps plain">ServiceName </code><code class="ps value">$service</code></div><div class="line number55 index54 alt2"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number56 index55 alt1"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps value">$completeDeployment</code> <code class="ps plain">= Get</code><code class="ps keyword">-AzureDeployment</code> <code class="ps keyword">-ServiceName</code> <code class="ps value">$service</code> <code class="ps keyword">-Slot</code> <code class="ps value">$slot</code></div><div class="line number57 index56 alt2"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps value">$completeDeploymentID</code> <code class="ps plain">= </code><code class="ps value">$completeDeployment</code><code class="ps plain">.deploymentid</code></div><div class="line number58 index57 alt1"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number59 index58 alt2"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps keyword">write</code><code class="ps keyword">-progress</code> <code class="ps keyword">-id</code> <code class="ps plain">3 </code><code class="ps keyword">-activity</code> <code class="ps string">"Creating New Deployment"</code> <code class="ps keyword">-completed</code> <code class="ps keyword">-Status</code> <code class="ps string">"Complete"</code></div><div class="line number60 index59 alt1"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps plain">"$(</code><code class="ps keyword">Get-Date</code> <code class="ps keyword">-f</code> <code class="ps value">$timeStampFormat</code><code class="ps plain">) - Creating New Deployment: Complete, Deployment ID: </code></div><div class="line number61 index60 alt2">&nbsp;</div><div class="line number62 index61 alt1"><code class="ps value">$completeDeploymentID</code><code class="ps plain">"</code></div><div class="line number63 index62 alt2"><code class="ps plain">}</code></div><div class="line number64 index63 alt1"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number65 index64 alt2"><code class="ps plain">function UpgradeDeployment()</code></div><div class="line number66 index65 alt1"><code class="ps plain">{</code></div><div class="line number67 index66 alt2"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps keyword">write</code><code class="ps keyword">-progress</code> <code class="ps keyword">-id</code> <code class="ps plain">3 </code><code class="ps keyword">-activity</code> <code class="ps string">"Upgrading Deployment"</code> <code class="ps keyword">-Status</code> <code class="ps string">"In progress"</code></div><div class="line number68 index67 alt1"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"$(Get-Date -f $timeStampFormat) - Upgrading Deployment: In progress"</code></div><div class="line number69 index68 alt2"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number70 index69 alt1"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps comments"># perform Update-Deployment</code></div><div class="line number71 index70 alt2"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps value">$setdeployment</code> <code class="ps plain">= </code><code class="ps keyword">Set</code><code class="ps keyword">-AzureDeployment</code> <code class="ps keyword">-Upgrade</code> <code class="ps keyword">-Slot</code> <code class="ps value">$slot</code> <code class="ps keyword">-Package</code> <code class="ps value">$package</code> <code class="ps keyword">-Configuration</code> <code class="ps value">$configuration</code> <code class="ps keyword">-label</code></div><div class="line number72 index71 alt1">&nbsp;</div><div class="line number73 index72 alt2"><code class="ps value">$deploymentLabel</code> <code class="ps keyword">-ServiceName</code> <code class="ps value">$service</code> <code class="ps keyword">-Force</code></div><div class="line number74 index73 alt1"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number75 index74 alt2"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps value">$completeDeployment</code> <code class="ps plain">= Get</code><code class="ps keyword">-AzureDeployment</code> <code class="ps keyword">-ServiceName</code> <code class="ps value">$service</code> <code class="ps keyword">-Slot</code> <code class="ps value">$slot</code></div><div class="line number76 index75 alt1"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps value">$completeDeploymentID</code> <code class="ps plain">= </code><code class="ps value">$completeDeployment</code><code class="ps plain">.deploymentid</code></div><div class="line number77 index76 alt2"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number78 index77 alt1"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps keyword">write</code><code class="ps keyword">-progress</code> <code class="ps keyword">-id</code> <code class="ps plain">3 </code><code class="ps keyword">-activity</code> <code class="ps string">"Upgrading Deployment"</code> <code class="ps keyword">-completed</code> <code class="ps keyword">-Status</code> <code class="ps string">"Complete"</code></div><div class="line number79 index78 alt2"><code class="ps spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"$(Get-Date -f $timeStampFormat) - Upgrading Deployment: Complete, Deployment ID: $completeDeploymentID"</code></div><div class="line number80 index79 alt1"><code class="ps plain">}</code></div><div class="line number81 index80 alt2"><code class="ps spaces">&nbsp;</code>&nbsp;</div><div class="line number82 index81 alt1"><code class="ps keyword">Write</code><code class="ps keyword">-Output</code> <code class="ps string">"Create Azure Deployment"</code></div><div class="line number83 index82 alt2"><code class="ps plain">Publish</code></div></div></td></tr></tbody></table></div></div>
<p><a href="https://github.com/mmooney/MMDB.AzureSample/tree/6177c18320f3ed35d41dc20d4f7247e1b3af05ef" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;http://github.com&#39;]);">https://github.com/mmooney/MMDB.AzureSample/tree/6177c18320f3ed35d41dc20d4f7247e1b3af05ef</a></p>
<p>Run that guy from the PowerShell command line, and you’re watch the bits fly.&nbsp; Yes, it will take several minutes to run.</p>
<p>A generic version of this can be found here: <a title="https://gist.github.com/4539567" href="https://gist.github.com/4539567" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-article&#39;,&#39;http://gist.github.com&#39;]);">https://gist.github.com/4539567</a>.&nbsp; Again, I borrowed from Scott Kirkland’s version, but his script assumed that your storage and cloud service were the same name, so I added a separate field for storage account name.&nbsp; Also to alleviate my insanity, I added a little more diagnostic logging.</p>
<h4>Next</h4>
<p>This was the post that I started out to write, before I decided to backfill with the more beginner stuff.&nbsp; From here, it’s going to be a little more ad-hoc.</p>
<p>Anyhow, the next post will probably be setting up your own DNS and SSL for your Azure site.</p>
<div class="dd_post_share"><div class="dd_buttons"><div class="dd_button"><script type="text/javascript" src="./Deploying via PowerShell_files/in.js"></script><div class="dd-linkedin-share"><div data-url="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/23/windows-azure-4-deploying-via-powershell/" data-counter="top"></div></div></div><div class="dd_button"><iframe src="./Deploying via PowerShell_files/button2.htm" height="69" width="51" scrolling="no" frameborder="0"></iframe></div><div class="dd_button"><iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="./Deploying via PowerShell_files/tweet_button.1387492107.htm" class="twitter-share-button twitter-tweet-button twitter-count-vertical" title="Twitter Tweet Button" data-twttr-rendered="true" style="width: 59px; height: 62px;"></iframe><script type="text/javascript" src="./Deploying via PowerShell_files/widgets.js"></script></div><div class="dd_button"><iframe src="./Deploying via PowerShell_files/like.htm" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:24px;" allowtransparency="true"></iframe></div></div><div style="clear:both"></div></div><!-- Social Buttons Generated by Digg Digg plugin v5.3.6,
    Author : Buffer, Inc
    Website : http://bufferapp.com/diggdigg --></div>

<div class="postinfo">
<div class="postinfo2">
<div class="postinfo3">
Posted in <a href="http://mooneyblog.mmdbsolutions.com/index.php/category/azure/" title="View all posts in Azure" rel="category tag">Azure</a>, <a href="http://mooneyblog.mmdbsolutions.com/index.php/category/development-strategy/" title="View all posts in Development Strategy" rel="category tag">Development Strategy</a>, <a href="http://mooneyblog.mmdbsolutions.com/index.php/category/devops/" title="View all posts in DevOps" rel="category tag">DevOps</a> |   <a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/23/windows-azure-4-deploying-via-powershell/#comments" title="Comment on Windows Azure 4: Deploying via PowerShell">2 Comments »</a></div></div></div>

            <div class="likeitfeed">
           <a href="http://mooneyblog.mmdbsolutions.com/index.php/feed/"><img src="./Deploying via PowerShell_files/feed.gif" alt="Subscribe to my RSS feed"></a>
            </div>
            
            <div>
             <div id="singleadsbig"><!-- Do not remove this-->

<!--Paste ad code for 336x280 ad below replacing the existing one-->










</div><!--  Do not remove this--></div>

<!-- You can start editing here. -->

	<h3 id="comments">2 Comments to “Windows Azure 4: Deploying via PowerShell”</h3>

	<ol class="commentlist">

	
		<li class="alt" id="comment-21333">
			<strong><a href="http://www.windows-azure.net/new-azuredeployment-times-out-on-package-upload/" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-commentauthor&#39;,&#39;http://www.windows-azure.net&#39;]);" rel="external nofollow" class="url">New-AzureDeployment times out on package upload - Windows Azure Blog</a></strong> Says:
						
<br>
			<small class="commentmetadata">May 14th, 2013 at 9:25 pm </small>

<div class="balloontop">
<div class="balloonbottom">

<div class="balloonbottom2">
			<p>[...] trying to automate our deployment to Azure process. I’ve gone through various pages from google with powershell scripts [...]</p>
</div>
</div>
</div>
		</li>

	
	
		<li id="comment-22344">
			<strong><a href="http://www.designlimbo.com/?p=180" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-commentauthor&#39;,&#39;http://www.designlimbo.com&#39;]);" rel="external nofollow" class="url">Design Limbo » Azure Deployments with Team City and Powershell</a></strong> Says:
						
<br>
			<small class="commentmetadata">December 19th, 2013 at 10:51 am </small>

<div class="balloontop">
<div class="balloonbottom">

<div class="balloonbottom2">
			<p>[…] <a href="./Deploying via PowerShell_files/Deploying via PowerShell.htm" rel="nofollow">http://mooneyblog.mmdbsolutions.com/index.php/2013/01/23/windows-azure-4-deploying-via-powershell/</a> […]</p>
</div>
</div>
</div>
		</li>

	
	
	</ol>

 


<h3 id="respond">Leave a Comment</h3>


<form action="http://mooneyblog.mmdbsolutions.com/wp-comments-post.php" method="post" id="commentform">


<p><input type="text" name="author" id="author" value="" size="22" tabindex="1">
<label for="author"><small>Name (required)</small></label></p>

<p><input type="text" name="email" id="email" value="" size="22" tabindex="2">
<label for="email"><small>Mail (will not be published) (required)</small></label></p>

<p><input type="text" name="url" id="url" value="" size="22" tabindex="3">
<label for="url"><small>Website</small></label></p>


<!--<p><small><strong>XHTML:</strong> You can use these tags: <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></small></p>-->

<p><textarea name="comment" id="comment" cols="100%" rows="10" tabindex="4"></textarea></p>

<p><input name="submit" type="image" src="./Deploying via PowerShell_files/submit_button.jpg" id="submit" tabindex="5">
<input type="hidden" name="comment_post_ID" value="308">
</p>
<p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="1b15d1d59b"></p><input type="hidden" id="sk2_my_js_check1" name="sk2_my_js_check1" value="8m1gz5omqx">
<input type="hidden" id="sk2_my_js_check2" name="sk2_my_js_check2" value="17e0e20a7a90514c18eab30a5816fd89">
<script type="text/javascript">
<!--
	document.write('<input type="hidden" id="sk2_my_js_payload" name="sk2_my_js_payload" value="');
	document.write(Math.round ( Math.abs(Math.round ( Math.abs(((((Math.round ( Math.abs(Math.min(Math.max(Math.round ( Math.abs(1 / 37)), 41), 2) / 32)) - 11) + Math.round( Math.abs(100*Math.sin(38)) ) ) + 1) + Math.round( Math.abs(100*Math.sin(26)) ) ) / 11)))));
	document.write('" />');
-->
</script><input type="hidden" id="sk2_my_js_payload" name="sk2_my_js_payload" value="9">
<input type="hidden" id="sk2_time" name="sk2_time" value="1389955765"><input type="hidden" id="sk2_ip" name="sk2_ip" value="137.117.216.195"><input type="hidden" id="sk2_payload" name="sk2_payload" value="6974136a30a779516e76f821aa897a40">
</form>


			</div>
 
		
		<div class="navigation">
			<div class="alignleft"></div>
			<div class="alignright"></div>
		</div>

	
	</div>
<div id="right">
<div id="aboutblogger"><div id="about1"><div id="about2"><div id="about3"><div id="about4">
<h4 class="orangeh4">About me</h4>
<p>Mike Mooney has been a software developer for 15 years, and lives in Chester Springs, PA with his wife and three sons.  He is the cofounder of <a href="http://www.mmdbsolutions.com/">MMDB Solutions</a>.
</p></div></div></div></div> </div>
<div id="sidebarcontainer">
<div id="topsidebar">
<div id="topsidebar2">
<div id="sidebar1">
	<ul>
	
        <li>
        <h2>Categories</h2>
            <ul>
            	<li class="cat-item cat-item-4"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/alm/" title="View all posts filed under ALM">ALM</a> (7)
</li>
	<li class="cat-item cat-item-28"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/angular/" title="View all posts filed under Angular">Angular</a> (1)
</li>
	<li class="cat-item cat-item-16"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/azure/" title="View all posts filed under Azure">Azure</a> (8)
</li>
	<li class="cat-item cat-item-5"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/alm/database/" title="View all posts filed under Database">Database</a> (1)
</li>
	<li class="cat-item cat-item-13"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/development-strategy/" title="View all posts filed under Development Strategy">Development Strategy</a> (16)
</li>
	<li class="cat-item cat-item-26"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/devops/" title="View all posts filed under DevOps">DevOps</a> (4)
</li>
	<li class="cat-item cat-item-27"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/javascript/" title="View all posts filed under Javascript">Javascript</a> (1)
</li>
	<li class="cat-item cat-item-25"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/open-source/" title="View all posts filed under Open Source">Open Source</a> (2)
</li>
	<li class="cat-item cat-item-11"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/random-tips/" title="View all posts filed under Random Tips">Random Tips</a> (11)
</li>
	<li class="cat-item cat-item-1"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/uncategorized/" title="View all posts filed under Uncategorized">Uncategorized</a> (1)
</li>
	<li class="cat-item cat-item-3"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/welcome/" title="View all posts filed under Welcome">Welcome</a> (2)
</li>
	<li class="cat-item cat-item-29"><a href="http://mooneyblog.mmdbsolutions.com/index.php/category/wmi/" title="View all posts filed under WMI">WMI</a> (1)
</li>
            </ul>
        </li>
      	
        <li>
        <h2>Archives</h2>
            <ul>
            	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/11/">November 2013</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/08/">August 2013</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/">January 2013</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2012/10/">October 2012</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2011/11/">November 2011</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2011/09/">September 2011</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2011/01/">January 2011</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2010/12/">December 2010</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2010/07/">July 2010</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2010/04/">April 2010</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2010/03/">March 2010</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2010/02/">February 2010</a></li>
            </ul>
        </li>
        
        <li>
        <h2>Links</h2>
            <ul>
             <li><a href="http://careers.stackoverflow.com/mikemooney" title="My StackOverflow CV" target="_blank" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-blogroll&#39;,&#39;http://careers.stackoverflow.com&#39;]);">My StackOverflow CV</a></li>
<li><a href="http://osrc.dfm.io/mmooney" target="_blank" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-blogroll&#39;,&#39;http://osrc.dfm.io&#39;]);">My Open Source Report Card</a></li>
<li><a href="http://www.elance.com/php/profile/main/eolproviderprofile.php?view_person=mike_mooney&catid=100" target="" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-blogroll&#39;,&#39;http://www.elance.com&#39;]);">My Elance Profile</a></li>
<li><a href="http://www.linkedin.com/in/mjmooney" target="" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-blogroll&#39;,&#39;http://www.linkedin.com&#39;]);">My LinkedIn Profile</a></li>
<li><a href="http://www.mmdbsolutions.com/" rel="me" title="My Company: MMDB Solutions" target="_blank" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-blogroll&#39;,&#39;http://www.mmdbsolutions.com&#39;]);">MMDB Solutions</a></li>
<li><a href="http://www.sportscommander.com/" rel="me" target="_blank" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-blogroll&#39;,&#39;http://www.sportscommander.com&#39;]);">SportsCommander</a></li>
<li><a href="http://www.twitter.com/mooneydev" target="" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-blogroll&#39;,&#39;http://www.twitter.com&#39;]);">My Twitter</a></li>
<li><a href="https://github.com/mmooney" target="_blank" onclick="javascript:_gaq.push([&#39;_trackEvent&#39;,&#39;outbound-blogroll&#39;,&#39;&#39;]);">My GitHub Profile</a></li>
             </ul>
        </li>

        
		</ul>
</div>
<div id="sidebar2">
	<ul>
	           
             <li>
      		  <h2>Recent Posts</h2>
              <ul>
              	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/11/06/devops-reality/">DevOps + Reality = ???</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/11/01/accessing-an-amazon-vm-through-wmi/">Accessing an Amazon VM through WMI</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/08/14/angular-js-navigator-pattern/">Angular JS: Navigator Pattern</a></li>
	<li><a href="./Deploying via PowerShell_files/Deploying via PowerShell.htm">Windows Azure 4: Deploying via PowerShell</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/21/windows-azure-3-deploying-a-simple-app/">Windows Azure 3: Deploying a simple app</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/20/windows-azure-2-setting-up-an-account/">Windows Azure: 2. Setting Up An Account</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/18/web-config-code-vs-configuration/">Web.Config: Code vs Configuration</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/18/windows-azure-1-building-a-simple-app/">Windows Azure: 1. Building a simple app</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/17/mooneys-law-of-guaranteed-failure/">Mooney’s Law Of Guaranteed Failure</a></li>
	<li><a href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/17/windows-azure-an-introduction/">Windows Azure: An Introduction</a></li>
              </ul>
           	 </li>
                                       
              
        <li>
        <h2>Meta</h2>
            <ul>
            <li><a href="http://mooneyblog.mmdbsolutions.com/wp-login.php?action=register">Register</a></li>            <li><a href="http://mooneyblog.mmdbsolutions.com/wp-login.php">Log in</a></li>
                        </ul>
        </li>
        
		</ul>
</div>
</div>

</div>
</div>
</div>

<br clear="all">
 </div></div></div>
<div id="footer">
2013 The Mooney Project .  WordPress . 
</div>
</div>
<p><a onclick="document.cookie=&quot;wpmp_switcher=mobile;path=/;expires=Tue, 01-01-2030 00:00:00 GMT&quot;;" href="http://mooneyblog.mmdbsolutions.com/index.php/2013/01/23/windows-azure-4-deploying-via-powershell/?wpmp_switcher=mobile">Switch to our mobile site</a></p>
<!-- WP SyntaxHighlighter Ver.1.7.3 Begin -->
<script type="text/javascript" src="./Deploying via PowerShell_files/shCore.js"></script>
<script type="text/javascript" src="./Deploying via PowerShell_files/shAutoloader.js"></script>
<script type="text/javascript" src="./Deploying via PowerShell_files/shBrushXml.js"></script>
<script type="text/javascript">//<![CDATA[
	SyntaxHighlighter.autoloader(
	"applescript	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushAppleScript.js?ver=3.0"
	,"as3 actionscript3	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushAS3.js?ver=3.0"
	,"bash shell	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushBash.js?ver=3.0"
	,"cf coldfusion	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushColdFusion.js?ver=3.0"
	,"cpp c	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCpp.js?ver=3.0"
	,"c# c-sharp csharp	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCSharp.js?ver=3.0"
	,"css	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushCss.js?ver=3.0"
	,"delphi pas pascal	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushDelphi.js?ver=3.0"
	,"diff patch	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushDiff.js?ver=3.0"
	,"erl erlang	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushErlang.js?ver=3.0"
	,"groovy	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushGroovy.js?ver=3.0"
	,"java	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJava.js?ver=3.0"
	,"jfx javafx	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJavaFX.js?ver=3.0"
	,"js jscript javascript	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushJScript.js?ver=3.0"
	,"perl pl	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPerl.js?ver=3.0"
	,"php	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPhp.js?ver=3.0"
	,"plain text	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPlain.js?ver=3.0"
	,"ps powershell	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPowerShell.js?ver=3.0"
	,"py python	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushPython.js?ver=3.0"
	,"rails ror ruby rb	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushRuby.js?ver=3.0"
	,"sass scss	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushSass.js?ver=3.0"
	,"scala	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushScala.js?ver=3.0"
	,"sql	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushSql.js?ver=3.0"
	,"vb vbnet	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushVb.js?ver=3.0"
	,"xml xhtml xslt html	http://mooneyblog.mmdbsolutions.com/wp-content/plugins/wp-syntaxhighlighter/syntaxhighlighter3/scripts/shBrushXml.js?ver=3.0"
	);
	SyntaxHighlighter.defaults['auto-links'] = true;
	SyntaxHighlighter.defaults['quick-code'] = true;
	SyntaxHighlighter.defaults['title'] = '';
	SyntaxHighlighter.defaults['class-name'] = 'notranslate';
	SyntaxHighlighter.defaults['collapse'] = false;
	SyntaxHighlighter.defaults['first-line'] = 1;
	SyntaxHighlighter.defaults['gutter'] = true;
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['smart-tabs'] = true;
	SyntaxHighlighter.defaults['tab-size'] = 4;
	SyntaxHighlighter.defaults['toolbar'] = true;
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = "Can't find brush for: ";
	SyntaxHighlighter.config.strings.brushNotHtmlScript = "Brush wasn't configured for html-script option: ";
	SyntaxHighlighter.all();
	
//]]></script>
<!-- WP SyntaxHighlighter Ver.1.7.3 End -->


 



<p style="text-align:center;">© <a href="http://www.mooneydev.com/com1.louis_vuitton_replica.asp">www.mooneydev.com</a></p></body></html>